---
title: Service Metrics for Pivotal Cloud Foundry
owner: London Services Enablement
---

<p class="note"><strong>Note: Service Metrics for Pivotal Cloud Foundry v1.4.3 is no longer supported.</strong>
The support period for v1.4.3 has expired.
To stay up to date with the latest software and security updates,
upgrade to a supported version.</p>

## <a id="overview"></a> Overview

The service-metrics SDK allows service authors to integrate with [Loggregator](https://docs.cloudfoundry.org/loggregator/architecture.html), the Cloud Foundry logging and metrics system, using a co-locatable BOSH release.

## <a id="architecture"></a> How Do Service Metrics Work?
![service-catalog-workflow](/img/service_metrics_workflow.mmd.png)

Service metrics are co-located with the service job. The service job runs as a daemon process and executes a metrics generation command at regular intervals. The service author generally provides a binary for that purpose. In this case the metrics generation command invokes the binary.

Service metrics receives the output of the metrics generation command and performs validation on the [format](author.html#output).

If validation succeeds, Service metrics sends the metrics to the Metron agent deployed on the VM. Metron forwards metrics to Doppler. In turn, Doppler can send the metrics to a third-party app such as Papertrail or to the Loggregator Traffic Controller.
